!function(t,n){if("function"==typeof define&&define.amd)define("sqroll",["module"],n);else if("undefined"!=typeof exports)n(module);else{var r={exports:{}};n(r),t.sqroll=r.exports}}(this,function(t){"use strict";function v(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(e=(u=c.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{e||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.exports=function(){var c=/^(?:(top|middle|bottom)|(top|middle|bottom)?([+-]\d+(?:px|vh))?)$/,r=/([+-]?\d+)(px|vh)/;function d(t){if("string"!=typeof t)return t;var n=t.match(r);return n?Number(n[1])*("vh"===n[2]?Math.round(window.innerHeight/100):1):Number(t)||0}function n(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top";if("string"!=typeof n)return n;var r=n.match(c);if(r){var e=t.getBoundingClientRect(),o=r[1]||r[2]||"top",i=d(r[3]||0),u=e.top+window.scrollY;return"bottom"===o?u+=e.bottom-e.top:"middle"===o&&(u+=(e.bottom-e.top)/2),u+i}return Number(n)||0}var s=[],t=-1/0,e=!1;function o(){var n=window.scrollY,r=t<=n?"down":"up";e||(e=!0,requestAnimationFrame(function(){s=s.filter(function(t){return t(n,r)}),e=!1})),t=n}return{track:function(o,t){var i=t.from,u=t.to,c=t.callback,f=n(o,t.startAt),a=n(o,t.endAt)-f;s.push(function(t,n){var r=t-f;if(r<0||a<r)return!0;var e=100*r/a;return c(o,i<u?e*u/100+i:(100-e)*i/100+u,t,n),!0})},trigger:function(r,t){var e=t.callback,o=n(r,t.at);s.push(function(t,n){return t-o<0||(e(r,t,n),!1)})},viewport:function(i,t){var u=t.onOut,c=t.onIn,n=v((t.offset||"").split(/\s+/),2),r=n[0],e=n[1],f=d(r),a=d(e),l=!1;s.push(function(t,n){var r=i.getBoundingClientRect(),e=r.top,o=r.bottom;return e+f>window.innerHeight||o-a<0?l&&(l=!1,u(i,t,n)):l||(l=!0,c(i,t,n)),!0})},clear:function(){s=[]},start:function(){document.addEventListener("scroll",o),o()},stop:function(){document.removeEventListener("scroll",o)},destroy:function(){s=[],document.removeEventListener("scroll",o)}}}});